<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- uikit -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/EOPAtCal/uikit-custom-css@v0.3/uikit-iso.min.css" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/uikit/3.0.0-beta.40/js/uikit.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/uikit/3.0.0-beta.40/js/uikit-icons.min.js"></script>
<!-- react -->
<script crossorigin src="https://unpkg.com/react@16/umd/react.production.min.js"></script>
<script crossorigin src="https://unpkg.com/react-dom@16/umd/react-dom.production.min.js"></script>
<script src="https://unpkg.com/babel-standalone@6/babel.min.js"></script>


<div id="root"></div>
<script type="text/babel">
const App = ({ staff = [] }) => (
  <div class="uikit-iso">
    <div
      style={{ fontWeight: 300 }}
      className="uk-child-width-1-2@s uk-child-width-1-3@m uk-child-width-1-4@l uk-grid-small uk-grid-match"
      data-uk-grid
    >
      {staff.map(member => (
        <div key={member.email}>
          <div className="uk-card uk-card-default uk-text-center">
            <div className="uk-card-media-top">
              <img
                className="uk-border-circle uk-padding-small"
                src={member.photo}
                alt={member.name}
              />
            </div>
            <div className="uk-card-body">
              <h3 className="uk-card-title">{member.name}</h3>
              <p className="uk-text-mute">{member.title}</p>
              <p className="uk-text-uppercase uk-text-small">{member.major}</p>
              <p className="uk-text-small uk-margin-bottom">
                {member.hometown}
              </p>
              {member.link &&
                member.link !== "#" && (
                  <a
                    href={member.link}
                    target="_blank"
                    className="uk-button uk-button-default"
                  >
                    <span
                      uk-icon="icon: user; ratio: .75"
                      className="uk-margin-small-right"
                    />
                    <span>View Profile</span>
                  </a>
                )}
            </div>
          </div>
        </div>
      ))}
    </div>
  </div>
);
$(() => {
  $.getJSON(
    "https://raw.githubusercontent.com/EOPAtCal/eopwebsite/master/transfers/student-staff.json",
    json => {
      ReactDOM.render(<App staff={json} />, document.getElementById("root"));
    }
  );
});
</script>
